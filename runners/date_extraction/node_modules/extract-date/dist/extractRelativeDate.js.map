{"version":3,"sources":["../src/extractRelativeDate.js"],"names":["subject","locale","timezone","translation","dictionary","Error","moment","tz","zone","normalizedSubject","toLowerCase","now","day","relative","yesterday","subtract","format","today","tomorrow","add"],"mappings":";;;;;;;AAEA;;AACA;;;;eAEe,CAACA,OAAD,EAAkBC,MAAlB,EAAkCC,QAAlC,KAAgE;AAC7E,QAAMC,WAAW,GAAGC,2BAAWH,MAAX,CAApB;;AAEA,MAAI,CAACE,WAAL,EAAkB;AAChB,UAAM,IAAIE,KAAJ,CAAU,iDAAV,CAAN;AACD;;AAED,MAAI,CAACC,wBAAOC,EAAP,CAAUC,IAAV,CAAeN,QAAf,CAAL,EAA+B;AAC7B,UAAM,IAAIG,KAAJ,CAAU,wBAAV,CAAN;AACD;;AAED,QAAMI,iBAAiB,GAAGT,OAAO,CAACU,WAAR,EAA1B;AAEA,QAAMC,GAAG,GAAG,8BAAZ;;AAEA,MAAIF,iBAAiB,KAAKN,WAAW,CAACS,GAAZ,CAAgBC,QAAhB,CAAyBC,SAAnD,EAA8D;AAC5D,WAAOH,GAAG,CAACI,QAAJ,CAAa,CAAb,EAAgB,KAAhB,EAAuBC,MAAvB,CAA8B,YAA9B,CAAP;AACD;;AAED,MAAIP,iBAAiB,KAAKN,WAAW,CAACS,GAAZ,CAAgBC,QAAhB,CAAyBI,KAAnD,EAA0D;AACxD,WAAON,GAAG,CAACK,MAAJ,CAAW,YAAX,CAAP;AACD;;AAED,MAAIP,iBAAiB,KAAKN,WAAW,CAACS,GAAZ,CAAgBC,QAAhB,CAAyBK,QAAnD,EAA6D;AAC3D,WAAOP,GAAG,CAACQ,GAAJ,CAAQ,CAAR,EAAW,KAAX,EAAkBH,MAAlB,CAAyB,YAAzB,CAAP;AACD;;AAED,SAAO,IAAP;AACD,C","sourcesContent":["// @flow\n\nimport moment from 'moment-timezone';\nimport dictionary from 'relative-date-names';\n\nexport default (subject: string, locale: string, timezone: string): ?string => {\n  const translation = dictionary[locale];\n\n  if (!translation) {\n    throw new Error('No translation available for the target locale.');\n  }\n\n  if (!moment.tz.zone(timezone)) {\n    throw new Error('Unrecognized timezone.');\n  }\n\n  const normalizedSubject = subject.toLowerCase();\n\n  const now = moment();\n\n  if (normalizedSubject === translation.day.relative.yesterday) {\n    return now.subtract(1, 'day').format('YYYY-MM-DD');\n  }\n\n  if (normalizedSubject === translation.day.relative.today) {\n    return now.format('YYYY-MM-DD');\n  }\n\n  if (normalizedSubject === translation.day.relative.tomorrow) {\n    return now.add(1, 'day').format('YYYY-MM-DD');\n  }\n\n  return null;\n};\n"],"file":"extractRelativeDate.js"}